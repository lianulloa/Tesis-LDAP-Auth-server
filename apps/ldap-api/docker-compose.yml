version: '3'

services:
  api:
    build: .
    image: flask_restful
    container_name: ldap_api
    environment: 
            - LDAP_SERVER_URI="${LDAP_SERVER_URI}"
            - PYTHON_LDAP_DEBUG_LVL="${PYTHON_LDAP_DEBUG_LVL}""
    expose: 
      - 5000
    ports:
    - "${API_HOST_PORT}:5000"
    volumes:
    - .:/api
    restart: always
    working_dir: /api
    command: python run.py

networks: 
  default:
    external:
      - tesis